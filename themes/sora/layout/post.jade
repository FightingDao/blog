extends base

block title
  title= page.title

block append styles
  link(rel="stylesheet" href="//cdn.css.net/libs/highlight.js/9.0.0/styles/solarized_light.min.css")

block page
  section.centered.post-page
    .sidebar
      - var tocContent = toc(page.content, {list_number: false})
      if tocContent
        .post-toc 
          | !{tocContent}
          button.btn.toggle-toc 隐藏 TOC
    article.post
      h2.post-title= page.title
      if page.subtitle
        h2.post-subtitle= page.subtitle
      script.
      .post-content.markdown-body !{page.content}

block append scripts
  script(src="//cdn.css.net/libs/highlight.js/9.0.0/highlight.min.js")
  script(src="/js/app.js?v=#{config.version}")

block meta 
  if page.subtitle
    meta(name="description" content=page.subtitle)
  else
    - var summary = page.excerpt || page.content.replace(/<(?:.|\n)*?>/gm, '').substring(0, 100)
    meta(name="description" content=summary)
